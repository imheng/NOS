#第十六节课

##习题练习

###一、如下问题如果有一个完全页交换Os，使用32位字长的虚拟空间，主存128MB,分页长度为4KB   
    a.系统有多少个页框？　　　　　　　　　　　　　
    b.系统使用多少位维护页内位移？　　　　　　　　    
    c.系统使用多少位维护页表？　　　　　　　　　　
    d.虚拟地址 0000 0000 0000 0000 0101 1101 0110 1010在TLB中命中下面哪个地址?物理地址是什么？
       
     Page	Frame	Valid
      0	      4       √
      3       3       √
      5	      2	      √

解：a.128MB=2^27　　4kB=2^12　　 27-12=15 所以系统有15个页框

　　b. 4kB=2^12 所以系统使用12位维护页内位移

　　ｃ.32-12 = 20   所以系统使用20维护页表

　　d.有题目可知，虚拟地址的页号是0000 0000 0000 0000 0101＝5，所以对应的页框号是2，所以在TBL中对应Page＝ 5,Frame＝ 2

　　　物理地址：因为物理地址占了27位，则27-12 = 15，所以前15位表示页框号，后12位表示页内位移。
  所以物理地址是：000 0000 0000 0000 ｜0101 1101 0110 1010

     注：一般情况下偏移地址是一样的，页面长度和页框长度是一样的；
         虚拟地址是：页号 + 页内位移
         物理地址是: 页框号 + 页内位移 
###二.求f的物理地址？
![虚拟地址表](https://github.com/wangjuanli/Markdown/blob/master/%E8%99%9A%E6%8B%9F%E5%9C%B0%E5%9D%80.PNG)

![TBL](https://github.com/wangjuanli/Markdown/blob/master/TBL.PNG)

![物理地址表](https://github.com/wangjuanli/Markdown/blob/master/%E7%89%A9%E7%90%86%E5%9C%B0%E5%9D%80%E8%A1%A8.PNG)

解：从第一个表中可得出f是：0101，从第二个表可得出Page=1 所对应Frame=6,
   从第三个表可以得出6=110所对应是25，物理地址是：11001.
   即f的物理地址是：11001

    同理可得：
     a的物理地址是：10100
     b的物理地址是：10101
     c的物理地址是：10110
     d的物理地址是：10111
     e的物理地址是：11000
     g的物理地址是：00101
     h的物理地址是：11011
     i的物理地址是：00100
     j的物理地址是：00101
     k的物理地址是：00110
     l的物理地址是：00111
     m的物理地址是: 01100
     n的物理地址是：01101
     o的物理地址是：01110
     p的物理地址是：01111
