#第二节课

###1.两道及多道程序运行时CPU的利用率的计算。
　　多道程序设计是指允许多个作业（程序）同时进入计算机系统的内存并启动交替计算的方法。也就是说，内存中多个相互独立的程序均处于开始和结束之间。
###2.操作系统的4种结构。
     （1）单体式结构，采用模块组合法，是基于结构化程序设计的一种软件结构设计方法。
     （2）层次式结构，为了让操作系统的结构更加清晰，使其具有较高的可靠性和较强的适应性，易于扩充和移植，在模块接口结构基础上产生了层次式结构操作系统。
     （3）虚拟机结构，它基于如下思想：物理计算机资源通过多重化和共享技术可改造成多个虚拟机。这种技术的基本做法是：通过用一类物理设备来模拟另一类物理设备，或通过分时地使用一类物理设备，把一个物理实体改变成若干个逻辑上的对应物。
     （4）微内核结构，操作系统仅将所有应用必须的核心功能放入内核，称为微内核。
###3.处理器状态
（1）计算机的基本功能是执行程序，最终被执行的是存储在内存中的机器指令代码。处理器根据程序计数器的指向从内存中去=取指令到指令寄存器，然后译码并执行，程序计数器将自动增长或变为转移地址以指明下一条待执行指令地址。每台计算机的机器指令集合称为指令系统，反应计算机的功能和处理能力。

（2）内核态和用户态。

　　根据执行程序对资源的机器指令的使用权限将处理器设置成不同状态，划分为内核态和用户态。

（3）处理器状态（内核态和用户态）及其转换

下列情况会导致处理器从用户态向内核态转换。

    1，程序请求操作系统服务，执行系统调用；

    2，在程序执行时产生中断事件，运行程序被中断，转向中断处理程序处理。

    3，在程序运行时产生异常事件（如发生程序性中断，或目态执行特权指令），运行程序被打断，转向异常处理程序工作。
（4）用户栈和核心栈。

　　用户栈是用户进程空间中开辟的一块区域，用于保存应用程序的子程序间相互调用的参数，返回值，返回点以及子程序的局部变量。

　　核心栈也叫系统栈或内核栈，是内存中属于操作系统空间的一块区域，用于保护中断现场，保存操作系统程序间相互调用的参数，返回值，返回点以及程序局部变量。

###4.	掌握程序状态字（PSW）的概念及其作用。
操作系统将程序运行时的一组动态信息汇集在一起，称为称为程序状态字（Program Satus Word,PSW）,存放在处理器的一组特殊寄存器里，以方便系统的控制和管理。PSW用来指示运行程序状态，控制指令执行顺序，并且保留和指示与运行程序有关的各种信息，主要作用是实现程序状态的保护和恢复。
###5.掌握中断技术。
（1）中断指在程序执行过程中遇到急需处理的事件时，暂时中止现行程序在CPU上的运行，转而执行相应的事件处理程序，待处理完成后再返回断点或调度其他程序执行的过程。

（2）中断源的分类。

　　由硬件发出或产生的中断称为硬中断，按硬中断事件的来源和实现手段可将中断划分为外中断和内中断。

　　外中断又称中断或异步中断，是指来自处理器之外的中断信号，包括时钟中断，键盘中断，它机中断和外部设备中断等。

　　内中断又称异常或同步中断，是指来自处理器内部的中断信号，通常是由于在程序执行过程中，发现与当前指令关联的，不正常的或错误的事件。

（3）中断事件处理原则。

     1.硬件故障中断     
     2.程序性中断 	
     3.I/O中断      
     4.访管中断      
     5.时钟中断 
（4）中断优先级：一般来说，以不发生中断丢失为前提，吧紧迫程度相当的中断源归为同一级别，紧迫程度差别大的中断源归于不同级别，级别高的中断有优先获得响应的权利。中断装置所预设的响应顺序称为中断优先级。

（5）多重中断：在计算机系统运行过程中可能同时出现多个中断，或者前一个中断尚未处理完接着有发生新的中断，于是CPU暂停正在运行的中断处理程序，转而执行新的中断处理程序，这就叫做多重中断或中断嵌套。

